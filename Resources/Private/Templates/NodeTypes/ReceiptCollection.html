{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace ts=TYPO3\TypoScript\ViewHelpers}
{namespace media=TYPO3\Media\ViewHelpers}
{namespace typo3cr=TYPO3\TYPO3CR\ViewHelpers}

<div{attributes -> f:format.raw()}>

    <f:if condition="{items}">
        <f:then>
        <typo3cr:widget.paginate nodes="{items}" as="paginatedNodes" configuration="{itemsPerPage: itemsPerPage}">
            <ul class="fv-receiptcollection">
                <f:for each="{paginatedNodes}" as="nodeItem">
                    <li class="fv-receiptbox">
                        <neos:link.node node="{nodeItem}">
                            <f:if condition="{nodeItem.properties.headerImage}">
                                <f:then>
                                    <media:image image="{nodeItem.properties.headerImage}" alt="{nodeItem.label}" class="fv-receiptimage" maximumWidth="{receiptImageMaxWidth}" maximumHeight="{receiptImageMaxHeight}" />
                                </f:then>
                            </f:if>
                            <h3 class="fv-receipttitle">{nodeItem.label}</h3>
                            <p class="fv-receiptteaser">
                                {nodeItem.properties.teaser}
                            </p>
                        </neos:link.node>
                    </li>
                </f:for>
            </ul>
        </typo3cr:widget.paginate>
        </f:then>
    </f:if>

</div>
